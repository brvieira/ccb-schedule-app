(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{5198:function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"row justify-center"},[e.loading?[o("q-inner-loading",{attrs:{showing:"",color:"blue-grey-6"}})]:o("div",{staticClass:"q-pa-md q-mt-lg col"},[o("q-card",{staticClass:"my-card"},[o("q-card-section",{staticClass:"bg-blue-grey-6 text-white"},[o("div",{staticClass:"text-h6"},[e._v("\n          "+e._s(e.id?"Editar Serviço":"Novo Serviço")+"\n        ")])]),o("q-separator"),o("q-card-section",[o("q-form",{staticClass:"q-gutter-md"},[o("q-select",{attrs:{dense:e.$q.screen.lt.md,filled:"",options:e.options,label:"Tipo de Serviço",color:"blue-grey-10","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, selecione o tipo de serviço"}]},model:{value:e.servico.tipo_servico,callback:function(r){e.$set(e.servico,"tipo_servico",r)},expression:"servico.tipo_servico"}}),o("q-input",{attrs:{filled:"",dense:e.$q.screen.lt.md,color:"blue-grey-10",mask:"##/##/####",label:"Data","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, preencha a data"}]},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[o("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-date",{attrs:{mask:"DD/MM/YYYY",color:"blue-grey-8"},model:{value:e.servico.data,callback:function(r){e.$set(e.servico,"data",r)},expression:"servico.data"}},[o("div",{staticClass:"row items-center justify-end"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Fechar",color:"blue-grey-8",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.servico.data,callback:function(r){e.$set(e.servico,"data",r)},expression:"servico.data"}}),o("q-input",{attrs:{filled:"",dense:e.$q.screen.lt.md,mask:"time",color:"blue-grey-10",label:"Horário","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, preencha o horário"}]},scopedSlots:e._u([{key:"append",fn:function(){return[o("q-icon",{staticClass:"cursor-pointer",attrs:{name:"access_time"}},[o("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[o("q-time",{attrs:{color:"blue-grey-8"},model:{value:e.servico.horario,callback:function(r){e.$set(e.servico,"horario",r)},expression:"servico.horario"}},[o("div",{staticClass:"row items-center justify-end"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Fechar",color:"blue-grey-8",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.servico.horario,callback:function(r){e.$set(e.servico,"horario",r)},expression:"servico.horario"}}),o("q-input",{attrs:{dense:e.$q.screen.lt.md,type:"number",label:"Lugares disponíveis para Irmãos",color:"blue-grey-10","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, preencha a quantidade de lugares disponíveis"},function(e){return e>0||"A quantidade de lugares disponíveis deve ser maior que 0"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"people_alt"}})]},proxy:!0}]),model:{value:e.servico.irmaos,callback:function(r){e.$set(e.servico,"irmaos",e._n(r))},expression:"servico.irmaos"}}),o("q-input",{attrs:{dense:e.$q.screen.lt.md,color:"blue-grey-10",type:"number",label:"Lugares disponíveis para Irmãs","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, preencha a quantidade de lugares disponíveis"},function(e){return e>0||"A quantidade de lugares disponíveis deve ser maior que 0"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"people_alt"}})]},proxy:!0}]),model:{value:e.servico.irmas,callback:function(r){e.$set(e.servico,"irmas",e._n(r))},expression:"servico.irmas"}}),o("q-input",{attrs:{dense:e.$q.screen.lt.md,type:"number",color:"blue-grey-10",label:"Lugares reservados para Músicos","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, preencha a quantidade de lugares reservados"},function(e){return e>0||"A quantidade de lugares reservados deve ser maior que 0"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"music_note"}})]},proxy:!0}]),model:{value:e.servico.musicos,callback:function(r){e.$set(e.servico,"musicos",e._n(r))},expression:"servico.musicos"}}),o("q-input",{attrs:{dense:e.$q.screen.lt.md,type:"number",color:"blue-grey-10",label:"Lugares reservados para Outros Colaboradores","lazy-rules":"",rules:[function(e){return null!==e&&""!==e||"Por favor, preencha a quantidade de lugares reservados"},function(e){return e>0||"A quantidade de lugares reservados deve ser maior que 0"}]},scopedSlots:e._u([{key:"prepend",fn:function(){return[o("q-icon",{attrs:{name:"groups"}})]},proxy:!0}]),model:{value:e.servico.outros,callback:function(r){e.$set(e.servico,"outros",e._n(r))},expression:"servico.outros"}}),o("div",{staticClass:"q-mt-lg"},[e.id?o("q-btn",{attrs:{dense:e.$q.screen.lt.md,label:"Salvar",color:"blue-grey-10"},on:{click:e.saveEdition}}):o("q-btn",{attrs:{dense:e.$q.screen.lt.md,label:"Criar",color:"blue-grey-10"},on:{click:e.createNew}}),o("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Cancelar",dense:e.$q.screen.lt.md,color:"blue-grey-10",flat:""},on:{click:function(r){return e.$router.go(-1)}}})],1)],1)],1)],1)],1)],2)},s=[],n=(o("e6cf"),o("ded3")),a=o.n(n),i=o("f3ee"),c={name:"ServiceForm",props:["id"],data(){return{loading:!0,options:["Culto Oficial","Reunião de Jovens e Menores","Ensaio","Outros"],servico:{tipo_servico:null,data:null,horario:null,irmaos:null,irmas:null,musicos:null,outros:null,senhas_irmaos:[],senhas_irmas:[]}}},methods:{optionsFn(e){const r=new Date(e).getDay();return e>=this.getDate(new Date)&&(0==r||3==r||5==r)},getDate(e){const r=e.getDate(),o=e.getMonth()+1,t=e.getYear()+1900,s=r<10?`0${r}`:r,n=o<10?`0${o}`:o;return`${t}/${n}/${s}`},async createNew(){const e=a()({},this.servico);try{await Object(i["a"])(e);this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Serviço criado com sucesso!"}),this.$router.go(-1)}catch(r){this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Erro ao criar serviço!"}),console.error(r)}},async saveEdition(){let e=a()({},this.servico);delete e.senhas_irmaos,delete e.senhas_irmas;try{await Object(i["b"])(e);this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Serviço editado com sucesso!"}),this.$router.go(-1)}catch(r){this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Erro ao editar serviço!"}),console.error(r)}},async getServiceData(e){try{const r=await Object(i["d"])(e);if(r.length>0){let o=r.find((r=>r._id===e));this.servico=a()({},o),this.loading=!1}}catch(r){console.error(r),this.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Erro ao carregar informações do serviço!"}),this.loading=!1}}},mounted(){this.id?this.getServiceData(this.id):this.loading=!1}},l=c,u=(o("ecc2"),o("2877")),d=o("74f7"),p=o("f09f"),v=o("a370"),f=o("eb85"),m=o("0378"),h=o("ddd8"),g=o("27f9"),b=o("0016"),q=o("7cbe"),y=o("52ee"),$=o("9c40"),w=o("ca78"),_=o("7f67"),x=o("eebe"),C=o.n(x),k=Object(u["a"])(l,t,s,!1,null,"e70b74e4",null);r["default"]=k.exports;C()(k,"components",{QInnerLoading:d["a"],QCard:p["a"],QCardSection:v["a"],QSeparator:f["a"],QForm:m["a"],QSelect:h["a"],QInput:g["a"],QIcon:b["a"],QPopupProxy:q["a"],QDate:y["a"],QBtn:$["a"],QTime:w["a"]}),C()(k,"directives",{ClosePopup:_["a"]})},a27e:function(e,r,o){"use strict";o("e6cf");const t=o("bc3a"),s="http://localhost:3000";function n(e){return new Promise((function(r,o){t.get(s+e).then((({data:e})=>r(e))).catch((e=>{console.error(e),o(e)}))}))}function a(e,r){return new Promise((function(o,n){t.post(s+e,r).then((({data:e})=>o(e))).catch((e=>{console.error(e),n(e)}))}))}function i(e,r){return new Promise((function(o,n){t.put(s+e,r).then((({data:e})=>o(e))).catch((e=>{console.error(e),n(e)}))}))}function c(e,r){return new Promise((function(o,n){t.delete(s+e,r).then((({data:e})=>o(e))).catch((e=>{console.error(e),n(e)}))}))}r["a"]={callUrl:n,postUrl:a,putUrl:i,deleteUrl:c}},a36d:function(e,r,o){},ecc2:function(e,r,o){"use strict";o("a36d")},f3ee:function(e,r,o){"use strict";o.d(r,"d",(function(){return n})),o.d(r,"a",(function(){return l})),o.d(r,"b",(function(){return u})),o.d(r,"e",(function(){return a})),o.d(r,"c",(function(){return i})),o.d(r,"f",(function(){return c}));var t=o("a27e");const s="/service";function n(e){return t["a"].callUrl(`${s}/${e}`)}function a(e){return t["a"].callUrl(`${s}/type/${e}`)}function i(e){return t["a"].callUrl(`${s}/available/${e}`)}function c(e){return t["a"].callUrl(`${s}/next/${e}`)}function l(e){return t["a"].postUrl(`${s}`,e)}function u(e){return t["a"].putUrl(`${s}`,e)}}}]);